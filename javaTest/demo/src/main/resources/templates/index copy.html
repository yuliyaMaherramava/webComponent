<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8" />
    <title>Java + Web Component</title>
    <script type="text/javascript" src="/web-components.js"></script>
</head>

<body>
    <script th:inline="javascript">
        document.addEventListener('DOMContentLoaded', function () {
            const seriesData = /*[[${data.seriesData}]]*/[];
            const xAxisData = /*[[${data.xAxisData}]]*/[];

            if (Array.isArray(seriesData) && Array.isArray(xAxisData) && seriesData.length > 0) {
                const chartData = JSON.stringify({ seriesData, xAxisData });

                const chartElement = document.createElement('web-bar-chart');
                chartElement.setAttribute('data', chartData);
                document.body.appendChild(chartElement);
            } else {
                console.warn('Invalid chart data:', { seriesData, xAxisData });
            }
        });
    </script>
</body>

</html>